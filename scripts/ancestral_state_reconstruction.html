

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Ancestral State Reconstruction &mdash; PI-CRUST 0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="PI-CRUST 0.1 documentation" href="../index.html" />
    <link rel="up" title="PICRUST Scripts" href="index.html" />
    <link rel="next" title="normalize_by_copy_number.py" href="normalize_by_copy_number.html" />
    <link rel="prev" title="PICRUST Scripts" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="normalize_by_copy_number.html" title="normalize_by_copy_number.py"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="PICRUST Scripts"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">PI-CRUST 0.1 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">PICRUST Scripts</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="ancestral-state-reconstruction">
<span id="id1"></span><h1>Ancestral State Reconstruction<a class="headerlink" href="#ancestral-state-reconstruction" title="Permalink to this headline">¶</a></h1>
<p>This document covers use of the <tt class="docutils literal"><span class="pre">picrust/ancestral_state_reconstruction.py</span></tt> script with some information about the various app controllers that it calls. Questions on usage should be directed to Morgan Langille (<a class="reference external" href="mailto:morgan&#46;g&#46;i&#46;langille&#37;&#52;&#48;gmail&#46;com">morgan<span>&#46;</span>g<span>&#46;</span>i<span>&#46;</span>langille<span>&#64;</span>gmail<span>&#46;</span>com</a>).</p>
<div class="section" id="description-of-code">
<h2>Description of code<a class="headerlink" href="#description-of-code" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>The <tt class="docutils literal"><span class="pre">ancestral_state_reconstruction.py</span></tt> script is a wrapper script that interfaces with various third party programs of ancestral state recontruction (ASR).</li>
<li>Each of the third party ASR programs all have their own pycogent app controllers.</li>
<li>Each of these app controllers have a method called <tt class="docutils literal"><span class="pre">XXXXX_for_picrust</span></tt>, where <tt class="docutils literal"><span class="pre">XXXXX</span></tt> is the name of ASR method. This is called by <tt class="docutils literal"><span class="pre">ancestral_state_reconstruction.py</span></tt> and ensures that same input and output formats as agreed to by the PICRUST developers.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="input-requirements">
<h2>Input Requirements<a class="headerlink" href="#input-requirements" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>A tree in newick format with unique labels for the tips AND the internal nodes. The tree must be dichotomous (e.g. no polytomies), with no zero branch lengths.</li>
<li>A tab-delimited table with the first row being a list of trait identifiers, the first column being a list of ALL tip labels from the tree, and the cell values being counts of data.</li>
<li>Note: These files will usually be the outputs produced by the <tt class="docutils literal"><span class="pre">format_tree_and_trait_table.py</span></tt> script.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="output">
<h2>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>A tab-delmited table with the first row being a list of trait identifiers, the second column being a list of all internal node labels from the tree, and the cell values being the predicted counts of data.</li>
<li>If a the ASR method provides confidence information (posterior probabilities, confidence intervals, etc.), then an additional table will be output that provides the same columns and row headings, but the cell values will contain probability information for the predictions.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mandatory-options">
<h2>Mandatory Options<a class="headerlink" href="#mandatory-options" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">-i</span></tt>: the input trait table described above</li>
<li><tt class="docutils literal"><span class="pre">-t</span></tt>: the input tree described above</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="optional-options">
<h2>Optional Options<a class="headerlink" href="#optional-options" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">-m</span></tt>: the asr method to be used. Can be one of (<tt class="docutils literal"><span class="pre">ace_ml</span></tt>,``ace_reml``, <tt class="docutils literal"><span class="pre">ace_pic</span></tt>, <tt class="docutils literal"><span class="pre">wagner</span></tt>). Default is <tt class="docutils literal"><span class="pre">wagner</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">-o</span></tt>: name for output table containing ASR predictions of just the counts [default:asr_counts.tab]</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="usage-examples">
<h2>Usage examples<a class="headerlink" href="#usage-examples" title="Permalink to this headline">¶</a></h2>
<p>This section provides a description of how to run <tt class="docutils literal"><span class="pre">ancestral_state_reconstruction.py</span></tt>:</p>
<p>Basic Example:</p>
<div class="highlight-python"><pre>ancestral_state_reconstruction.py -i your_trait_table.txt -t your_tree.newick</pre>
</div>
<p>Specify a different ASR method:</p>
<div class="highlight-python"><pre>ancestral_state_reconstruction.py -i your_trait_table.txt -t your_tree.newick -m ace_pic</pre>
</div>
<p>Specify a different a name for the output file(s):</p>
<div class="highlight-python"><pre>ancestral_state_reconstruction.py -i your_trait_table.txt -t your_tree.newick -o your_output_name</pre>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Ancestral State Reconstruction</a><ul>
<li><a class="reference internal" href="#description-of-code">Description of code</a></li>
<li><a class="reference internal" href="#input-requirements">Input Requirements</a></li>
<li><a class="reference internal" href="#output">Output</a></li>
<li><a class="reference internal" href="#mandatory-options">Mandatory Options</a></li>
<li><a class="reference internal" href="#optional-options">Optional Options</a></li>
<li><a class="reference internal" href="#usage-examples">Usage examples</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">PICRUST Scripts</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="normalize_by_copy_number.html"
                        title="next chapter">normalize_by_copy_number.py</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/scripts/ancestral_state_reconstruction.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="normalize_by_copy_number.html" title="normalize_by_copy_number.py"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="PICRUST Scripts"
             >previous</a> |</li>
        <li><a href="../index.html">PI-CRUST 0.1 documentation</a> &raquo;</li>
          <li><a href="index.html" >PICRUST Scripts</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Joshua Reyes, Greg Caporaso.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre.
    </div>
  </body>
</html>